# نظام تسجيل الدخول الجديد - سنابل

## نظرة عامة

تم تحديث نظام تسجيل الدخول ليكون منفصلاً بين المدير والزبائن، مع ربط APIs الـ backend بشكل صحيح.

## الصفحات الجديدة

### 1. الصفحة الرئيسية (`/`)
- صفحة ترحيب مع أزرار للانتقال إلى صفحات تسجيل الدخول
- تصميم حديث وجذاب
- روابط مباشرة لصفحات تسجيل الدخول

### 2. صفحة تسجيل دخول المدير (`/admin/login`)
- تصميم أزرق للمدير
- حقول: رقم الهاتف + كلمة المرور
- رابط للانتقال إلى صفحة تسجيل دخول العميل
- توجيه إلى لوحة تحكم المدير بعد تسجيل الدخول

### 3. صفحة تسجيل دخول العميل (`/customer/login`)
- تصميم أخضر للعميل
- حقول: رقم الهاتف + كلمة المرور
- رابط للانتقال إلى صفحة تسجيل دخول المدير
- توجيه إلى لوحة تحكم العميل بعد تسجيل الدخول

### 4. صفحة إنشاء عميل جديد (`/admin/customers/new`)
- للمدير فقط
- إنشاء حساب زبون جديد
- ربط مع APIs الـ backend

## APIs المستخدمة

### تسجيل الدخول
- `POST /api/auth/login` - تسجيل دخول المدير أو العميل
- `POST /api/auth/register` - إنشاء حساب جديد
- `GET /api/auth/me` - معلومات المستخدم الحالي
- `POST /api/auth/change-password` - تغيير كلمة المرور

### إدارة الزبائن (للمدير)
- `POST /api/customers/` - إنشاء زبون جديد
- `GET /api/customers/` - قائمة الزبائن
- `PUT /api/customers/{id}` - تحديث بيانات الزبون
- `DELETE /api/customers/{id}` - حذف زبون
- `PATCH /api/customers/{id}/wallet` - إدارة محفظة الزبون

## كيفية الاستخدام

### للمدير:
1. انتقل إلى `/admin/login`
2. أدخل رقم الهاتف: `1234567890`
3. أدخل كلمة المرور: `admin123`
4. سيتم توجيهك إلى لوحة تحكم المدير

### للزبائن:
1. انتقل إلى `/customer/login`
2. أدخل رقم الهاتف المسجل
3. أدخل كلمة المرور
4. سيتم توجيهك إلى لوحة تحكم العميل

### إنشاء زبون جديد:
1. سجل دخول كمدير
2. انتقل إلى صفحة الزبائن
3. اضغط على "إضافة عميل جديد"
4. أدخل بيانات العميل
5. سيتم إنشاء حساب تلقائياً مع كلمة مرور افتراضية: `123456`

## الميزات

- ✅ فصل كامل بين تسجيل دخول المدير والعميل
- ✅ ربط مع APIs الـ backend
- ✅ تصميم متجاوب ومتعدد الألوان
- ✅ رسائل خطأ واضحة
- ✅ تحميل وتوجيه تلقائي
- ✅ إدارة كاملة للزبائن
- ✅ نظام محافظ متكامل

## الأمان

- تشفير كلمات المرور باستخدام bcrypt
- JWT tokens للمصادقة
- التحقق من الصلاحيات
- حماية من CSRF
- تحقق من صحة البيانات

## التطوير المستقبلي

- [ ] إضافة استعادة كلمة المرور
- [ ] إضافة تسجيل دخول ببصمة الإصبع
- [ ] إضافة مصادقة ثنائية
- [ ] إضافة سجل تسجيل الدخول
- [ ] إضافة إشعارات push
